<!DOCTYPE html>
<html>
  <head>
    <title>Webcam motion detection</title>
    <link rel="stylesheet" type="text/css" href="styles/main.css" media="all" />
  </head>
  <body>
    <div>
      <h2 id="counter"></h2>
    </div>

    <h2 id="result"></h2>

    <button onclick="startmotion()" style="position: absolute; top: 80%">
      Start
    </button>
    <button
      onclick="window.location.reload();"
      style="position: absolute; top: 90%"
    >
      Stop
    </button>
    <video id="webCamWindow" autoplay></video>
    <div id="movement"></div>
    <script type="text/javascript" src="js/global.js"></script>
    <script
      type="text/javascript"
      src="js/MotionDetector/WebCamCapture.js"
    ></script>
    <script
      type="text/javascript"
      src="js/MotionDetector/ImageCompare.js"
    ></script>
    <script type="text/javascript" src="js/MotionDetector/Core.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
  </body>
</html>
<script>
  var getwidthmotion = 0;
  var counter = 1;
  function startmotion() {
    setInterval(function () {
      if (counter <= 3) {
        document.querySelector("#counter").innerHTML = counter;
        counter++;
      } else {
        clearInterval();
        document.querySelector("#counter").innerHTML = "Soleil";
        getwidthmotion = document.getElementById("movement").style.width;
        console.log(getwidthmotion);
        if (getwidthmotion > "20px") {
          document.querySelector("#result").innerHTML = "loooser !";
        }
      }
    }, 1000);
  }
</script>
